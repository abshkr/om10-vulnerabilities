<?xml version="1.0" encoding="utf-8"?>
<!-- containers\spark\myComponents\MyAlertPopUpReturn.mxml -->
<s:Panel xmlns:fx="http://ns.adobe.com/mxml/2009" 
						   xmlns:s="library://ns.adobe.com/flex/spark" 
						   xmlns:mx="library://ns.adobe.com/flex/mx" 
						   width="420" title="Reason For Change">
	<s:layout>
		<s:VerticalLayout gap="20" horizontalAlign="left" paddingBottom="20" paddingLeft="20"
						  paddingRight="20" paddingTop="20"/>
	</s:layout>
	
	<fx:Script>
		<![CDATA[
			import mx.core.FlexGlobals;
			import mx.managers.PopUpManager;
			private var _callBack:Function;

			public function doPopUp(callBack:Function)
			{
				_callBack=callBack;				
				PopUpManager.addPopUp(this,FlexGlobals.topLevelApplication.main,true);
				PopUpManager.centerPopUp(this);
			}
			
			protected function button1_clickHandler(event:MouseEvent):void
			{
				_callBack(PopupIgnoreWindow.text);
				PopUpManager.removePopUp(this);
			}
			protected function button2_clickHandler(event:MouseEvent):void
			{
				_callBack(null);
				PopUpManager.removePopUp(this);
			}
		]]>
	</fx:Script>
	
	
	<s:Label text="Description"/>
	<s:TextInput id="PopupIgnoreWindow" width="100%" 
				prompt="Enter reason for this action" tabIndex="1" maxChars="70" enter="button1_clickHandler(null);" />
	<s:HGroup width="100%">
		<s:Spacer width="100%"/>
		<s:Button label="OK" enabled="{PopupIgnoreWindow.text.length > 2}" tabEnabled="true"
				  tabFocusEnabled="true" tabIndex="2" click="button1_clickHandler(event)"/>
		<s:Button label="Cancel" tabEnabled="true"
				  tabFocusEnabled="true" tabIndex="3" click="button2_clickHandler(event)"/>
	</s:HGroup>
	
</s:Panel>