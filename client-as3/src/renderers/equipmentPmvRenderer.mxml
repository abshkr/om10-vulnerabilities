<?xml version="1.0" encoding="utf-8"?>
<s:ItemRenderer xmlns:fx="http://ns.adobe.com/mxml/2009" 
				xmlns:s="library://ns.adobe.com/flex/spark" 
				xmlns:mx="library://ns.adobe.com/flex/mx" 
				autoDrawBackground="false" xmlns:components="components.*" >
	
	<s:states>
		<s:State name="normal" />
		<s:State name="selected" />
		<s:State name="hovered" />
	</s:states>
	
	<fx:Script>
		<![CDATA[			
			import mx.collections.ArrayCollection;
			import mx.core.FlexGlobals;
			private var canDelete:Boolean=true;

			private function deleteItem():void
			{	
				FlexGlobals.topLevelApplication.removeEventListener(new Event("doDelete"),doDeletePmv);
				
				FlexGlobals.topLevelApplication.addEventListener("doDelete", doDeletePmv);
				dispatchEvent(new Event("confirmDelete", true, false));
			}
			
			private function doDeletePmv(event:Event):void
			{
				if(canDelete){
					FlexGlobals.topLevelApplication.removeEventListener(new Event("doDelete"),doDeletePmv);
					FlexGlobals.topLevelApplication.dispatchEvent(new Event("deletePmv", true, false));
					canDelete=false;
				}
			}
			
		]]>
	</fx:Script>

	<s:VGroup top="5" gap="10">
		<components:DKI_List dataProvider="{data.composition}" width="100%" itemRenderer="renderers.equipmentEditListRenderer" borderVisible="false">
			<components:layout>
				<s:HorizontalLayout gap="-10"/>
			</components:layout>
		</components:DKI_List>
		<s:HGroup width="100%" textAlign="center">
			<s:Image source="assets/icons/cancel.png" useHandCursor="true" buttonMode="true" click="parentDocument.parentDocument.deletePmvList()"/>
			<s:Label text="{data.etyp_title}" width="100%" textAlign="center" height="20" verticalAlign="middle" />					
		</s:HGroup>
	</s:VGroup>	

	
</s:ItemRenderer>