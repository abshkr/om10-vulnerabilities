<s:VGroup xmlns:fx="http://ns.adobe.com/mxml/2009"
		  xmlns:s="library://ns.adobe.com/flex/spark"
		  xmlns:mx="library://ns.adobe.com/flex/mx"
		  xmlns:components="components.*"
		  xmlns:skins="skins.*" 
		  xmlns:controllers="controllers.*"
		  width="100%"
		  height="100%"
		  xmlns:dm="dm.*" creationComplete="controller.creationCompleteHandler(event)" >
	<fx:Script>
		<![CDATA[
			import com.hillelcoren.components.autoComplete.classes.SelectedItem;
			
			import dm.utils.dmDate;
			
			import mx.utils.StringUtil;
			
			import spark.events.TextOperationEvent;
			
			protected function get progressBarLabel():String
			{
				var lbl:String="";
				if ( DM.SpecialMovements.length == 0 )
				{
					lbl = resourceManager.getString('default','SEARCH__NO_RESULTS') + "!   "; 
				}
				
				return lbl;
			}
			
			protected function alq_changeHandler(event:TextOperationEvent):void
			{
				// TODO Auto-generated method stub
				if ( StringUtil.trim(alq.text).length > 0 )
				{
					uomcb.enabled = true;
					uomcb.requireSelection = true;
					if ( uomcb.selectedIndex == -1 )
					{
						uomcb.selectedIndex = 0;
					}
				}
				else
				{
					uomcb.enabled = false;
					uomcb.requireSelection = false;
					uomcb.selectedIndex = -1;
				}
			}
			
		]]>
	</fx:Script>
	
	
	<s:states>
		<s:State name="normal"/>
		<s:State name="widget"/>
		<s:State name="create" enterState="controller.clear(false)"/>
		<s:State name="edit"/>
		<s:State name="view"/>
	</s:states>
	
	<fx:Declarations>
		<dm:DM/>
		<controllers:C_SpecialMovements id="controller" view="{this}" />
		
	</fx:Declarations>
	
	<s:Panel id="panel" width="100%" height="100%"
			 skinClass="skins.WidgetPanelSkin" title="Special Movements"
			 skinClass.widget="skins.NullSkin">
		<s:VGroup width="100%" height="100%" paddingBottom="5" paddingLeft="5" paddingRight="5" paddingTop="5">
			<!-- Main Filter-->
			<s:HGroup width="100%" includeIn="normal,widget" itemCreationPolicy="immediate">
				<s:VGroup width="100%">
					<s:HGroup width="100%" verticalAlign="middle">
						<s:Label includeIn="normal" width="120" textAlign="right" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_PLANT')}"/>
						<components:DKI_ComboBox openOnInput="true" prompt="{resourceManager.getString('default','SPECMOV.PROMPT.MV_PLANT')}" labelField="PLANT_GUI" width="100%" selectedIndex="@{C_SpecialMovements.PLANT_CODE_SID}" dataProvider="{DM.SpecialMovements.suppliers}" change="controller.refreshMainFilter()" />
					</s:HGroup>
					<s:HGroup width="100%" verticalAlign="middle">
						<s:Label includeIn="normal" width="120" textAlign="right" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_NUM')}"/>
						<components:DKI_ComboBox  prompt="{resourceManager.getString('default','SPECMOV.PROMPT.MV_NUM')}" width="100%" id="filterMN"  change="controller.refreshMainFilter()" dataProvider="{DM.SpecialMovements.movnums}" />
					</s:HGroup>
				</s:VGroup>
				<s:VGroup width="100%">
					<s:HGroup width="100%" verticalAlign="middle">
						<s:Label includeIn="normal" width="120" textAlign="right" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_STATUS')}"/>
						<components:DKI_ComboBox openOnInput="true" id="statusDDL" prompt="{resourceManager.getString('default','SPECMOV.PROMPT.MV_STATUS')}" width="100%" dataProvider="{DM.SpecialMovements.status}" selectedIndex="@{C_SpecialMovements.STATUS_SID}" labelField="Name" change="controller.refreshMainFilter()"/>
					</s:HGroup>
					<s:HGroup width="100%" verticalAlign="middle">
						<s:Label includeIn="normal" width="120" textAlign="right" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_TYPE')}"/>
						<components:DKI_ComboBox openOnInput="true" id="typeFilter" prompt="{resourceManager.getString('default','SPECMOV.PROMPT.MV_TYPE')}" width="100%" dataProvider="{DM.SpecialMovements.types}" labelField="MOVITEM_TYPE_NAME"  selectedIndex="@{C_SpecialMovements.MOV_TYPE_SID}"  change="controller.refreshMovementReasonFilter()"/>
					</s:HGroup>
					<s:HGroup width="100%" verticalAlign="middle">
						<s:Label includeIn="normal" width="120" textAlign="right" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_REASON')}"/>
						<components:DKI_ComboBox openOnInput="true" prompt="{resourceManager.getString('default','SPECMOV.PROMPT.MV_REASON')}" width="100%" dataProvider="{DM.SpecialMovements.movementReasons}" labelField="clnAction" selectedIndex="@{C_SpecialMovements.REASON_CODE_SID}" useVirtualLayout="false" change="controller.refreshMainFilter()" />
					</s:HGroup>
				</s:VGroup>
				<s:VGroup width="100%">
					<s:HGroup width="100%" verticalAlign="middle">
						<s:Label width="70" includeIn="normal" textAlign="right" text="{resourceManager.getString('default','global.lbl.datefrom')}"/>
						<components:DKI_DateTimeRange id="std" width="100%" change="{controller.reloadData}" selectedDate="@{C_SpecialMovements.DTIM_START_FLT}"  contentBackgroundAlpha="#FFFFFF"/>
					</s:HGroup>
					<s:HGroup width="100%" verticalAlign="middle">
						<s:Label width="70" includeIn="normal" textAlign="right" text="{resourceManager.getString('default','global.lbl.dateto')}"/>
						<components:DKI_DateTimeRange id="etd" width="100%" change="{controller.reloadData}" selectedDate="@{C_SpecialMovements.DTIM_END_FLT}" contentBackgroundAlpha="#FFFFFF"/>
					</s:HGroup>					
				</s:VGroup>
			</s:HGroup>
			<s:HGroup width="100%">
				<components:DKI_Button includeIn="widget,normal" label="{resourceManager.getString('default','CLEAR')}" type="refresh" click="controller.clearMainFilters();" enabled="{DM.SpecialMovements.csvReady}"/>
				<s:Spacer width="100%"/>
				<components:DKI_Button label="{DM.SpecialMovements.csvReady?resourceManager.getString('default','button.lbl.EXPORT_DATA'):resourceManager.getString('default','button.lbl.PREPARE_DATA')}" 
									   type="report" click="controller.goToExportData()" includeIn="normal" enabled="{DM.SpecialMovements.csvReady}"/>
				<components:DKI_Button label="{resourceManager.getString('default','CREATE')}" type="create" includeIn="normal" 
									   click="mainList.selectedIndex =- 1 ;currentState='create';	
									   C_SpecialMovements.MOV_NUM = DM.SpecialMovements.nextID;
									   C_SpecialMovements.DTIM_START = new Date(global.serverDateTime.time);
									   " enabled="{controller.canCreate &amp;&amp; DM.SpecialMovements.csvReady}"/>
			</s:HGroup>
			<s:HGroup width="100%" verticalAlign="middle">
				<s:Label width="100%" height="24" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_NUM')}: {C_SpecialMovements.MOV_NUM}" textAlign="left" verticalAlign="middle" includeIn="edit,create,view"/>
				<s:Label width="100%" height="24" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_STATUS2')}" text.view="{resourceManager.getString('default','SPECMOV.LABEL.MV_STATUS')}: {mainList.selectedItem.movementStatus}" textAlign="right" verticalAlign="middle" includeIn="edit,create,view"/>
			</s:HGroup>
					
			<!-- Main Grid-->
			<s:DataGrid id="mainList" width="100%" height="100%" dataProvider="{DM.SpecialMovements}" enabled="{DM.SpecialMovements.csvReady}" enabled.view="{DM.SpecialMovements.csvReady}" enabled.create="{DM.SpecialMovements.csvReady}" enabled.edit="{DM.SpecialMovements.csvReady}" selectionChange.normal="controller.prepareForEdit();">
				<s:columns>
					<s:ArrayList>
						<s:GridColumn width="130" dataField="movementNumber"       headerText="{resourceManager.getString('default','SPECMOV.LABEL.MV_NUM')}" sortCompareFunction="{controller.sortNumeric}"/>
						<s:GridColumn width="110" dataField="MLITM_MOV_KEY"        headerText="{resourceManager.getString('default','SPECMOV.LABEL.MV_KEY')}"/>
						<s:GridColumn width="160" dataField="movementDateTime"     headerText="{resourceManager.getString('default','SPECMOV.LABEL.MV_DATETIME')}" labelFunction="{global.getLocaleDate}"/>
						<s:GridColumn width="130" dataField="movementType"         headerText="{resourceManager.getString('default','SPECMOV.LABEL.MV_TYPE')}"/>
						<s:GridColumn width="120" dataField="reasonCodeString"     headerText="{resourceManager.getString('default','SPECMOV.LABEL.MV_REASON')}"/>
						<s:GridColumn width="120" dataField="movementStatus"       headerText="{resourceManager.getString('default','SPECMOV.LABEL.MV_STATUS')}"/>
						<!--
						<s:GridColumn width="120" dataField="MLITM_TANKDEPO"       headerText="{resourceManager.getString('default','SPECMOV.LABEL.MV_FROM_PLANT')}"/>
						<s:GridColumn width="120" dataField="MLITM_TANKDEPO_TO"    headerText="{resourceManager.getString('default','SPECMOV.LABEL.MV_TO_PLANT')}"/>
						-->
						<s:GridColumn width="180" dataField="lastModifiedDateTime" headerText="{resourceManager.getString('default','SPECMOV.LABEL.MV_DT_LAST')}" labelFunction="{global.getLocaleDate}"/>
						<s:GridColumn width="180" dataField="lastModifiedUser"     headerText="{resourceManager.getString('default','SPECMOV.LABEL.MV_USER_LAST')}"/>
					</s:ArrayList>
				</s:columns>
			</s:DataGrid>
			<mx:ProgressBar id="pb" width="100%" height="22"  mode="polled" source="{DM.SpecialMovements}" 
							label="{progressBarLabel}{resourceManager.getString('default','SPECMOV.PROMPT.MV_REC_SHOWN')}{DM.SpecialMovements.length}   {resourceManager.getString('default','SPECMOV.PROMPT.MV_REC_LOADED')}{DM.SpecialMovements.list.length}   {resourceManager.getString('default','SPECMOV.PROMPT.MV_REC_TOTAL')}{DM.SpecialMovements.totalCount}" 
							labelPlacement="center" includeIn="normal,widget"/>
			
			<!-- Create & Edit FORM  -->
			<s:VGroup  includeIn="create,edit,view" width="100%">				
				
				<s:HGroup width="100%" height="100%" enabled.view="false">
					<s:HGroup width="100%" verticalAlign="middle">
						<s:Label width="120" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_TYPE')}" textAlign="right"/>
						<components:DKI_ComboBox openOnInput="true" prompt="{resourceManager.getString('default','SPECMOV.PROMPT.MV_TYPE')}" id="typeDDL" width="100%" dataProvider="{DM.SpecialMovements.types}" labelField="MOVITEM_TYPE_NAME" selectedIndex="@{C_SpecialMovements.FORM_MOV_TYPE_SID}" change="controller.refreshMovementReasonFilterSEL();controller.bindPlantCode();"/>	
					</s:HGroup>					
					<s:HGroup width="100%" verticalAlign="middle">
						<s:Label width="120" textAlign="right" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_REASON')}"/>
						<components:DKI_ComboBox openOnInput="true" id="reasonDDL" prompt="{resourceManager.getString('default','SPECMOV.PROMPT.MV_REASON')}" enabled="{typeDDL.selectedIndex>-1}" width="100%" labelField="clnAction" 
												 dataProvider="{DM.SpecialMovements.movementReasonsSEL}" change="controller.bindPlantCode();"
												 selectedIndex="@{C_SpecialMovements.FORM_REASON_CODE_SID}"/>
					</s:HGroup>					
					<s:HGroup width="100%" verticalAlign="middle">
						<s:Label width="120" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_TIME')}" textAlign="right"/>
						<components:DKI_DateTimeRange id="met" width="100%" limitDate="{true}" rangeEnd="{new Date(global.serverDateTime.time)}" enabled="{typeDDL.selectedIndex>-1}" selectedDate="@{C_SpecialMovements.DTIM_START}"/>	
					</s:HGroup>						
				</s:HGroup>
				
				
				<mx:HRule width="100%"/>
				
				<s:HGroup width="100%" height="100%" verticalAlign="middle" enabled.view="false">
					
					
					<s:VGroup width="250%" height="100%" horizontalAlign="center">

						
						
						<s:HGroup width="100%" height="100%">
							
							<!-- Tier 1 -->
							<s:VGroup width="100%" height="100%"  enabled="{reasonDDL.selectedIndex>-1 &amp;&amp; typeDDL.selectedIndex>-1 &amp;&amp; typeDDL.selectedItem.MOVITEM_TYPE_CODE != 'R'}">		
								<s:FormHeading label="{resourceManager.getString('default','SPECMOV.LABEL.MV_FROM_DATA')}"/>
								<s:BorderContainer id="fromBox" borderColor="0x000000" backgroundAlpha="0" cornerRadius="8" width="100%" height="100">
									<s:VGroup width="100%" height="100%" paddingRight="6" paddingTop="5">		
										<s:HGroup width="100%" verticalAlign="middle">
											<s:Label width="135" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_PLANT')}" textAlign="right"/>
											<components:DKI_ComboBox openOnInput="true" id="fromPlant" width="100%" prompt="{resourceManager.getString('default','SPECMOV.PROMPT.MV_PLANT')}" labelField="supplierUI"
															dataProvider="{C_SpecialMovements.FORM_PLANT_CODES}" change="controller.bindFromTank();
																							fromTank.requireSelection = fromDrawer.requireSelection = false;
																							fromTank.selectedIndex = fromDrawer.selectedIndex = -1"
															selectedIndex="@{C_SpecialMovements.FORM_FROM_PLANT_CODE_SID}"  />	
										</s:HGroup>
										<s:HGroup width="100%" verticalAlign="middle" >
											<s:Label width="135" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_TANK')}" textAlign="right"/>
											<components:DKI_ComboBox openOnInput="true" id="fromTank" width="100%" prompt="{resourceManager.getString('default','SPECMOV.PROMPT.MV_TANK')}" labelField="tankUI" enabled="{C_SpecialMovements.FORM_FROM_PLANT_CODE_SID>-1}"
															dataProvider="{C_SpecialMovements.FORM_FROM_TANKS}"  change="controller.bindFromProd(); 
																												fromDrawer.requireSelection = false;
																												fromDrawer.selectedIndex = 0"
															selectedIndex="@{C_SpecialMovements.FORM_FROM_TANK_CODE_SID}"/>	
										</s:HGroup>
										<s:HGroup width="100%" verticalAlign="middle" >
											<s:Label width="135" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_PRODUCT')}" textAlign="right"/>
											<components:DKI_ComboBox openOnInput="true" id="fromDrawer" width="100%" prompt="{resourceManager.getString('default','SPECMOV.PROMPT.MV_PRODUCT')}" labelField="prodUI" enabled="{C_SpecialMovements.FORM_FROM_TANK_CODE_SID>-1}"
															dataProvider="{C_SpecialMovements.FORM_FROM_PRODS}" 
															selectedIndex="@{C_SpecialMovements.FORM_FROM_PROD_CODE_SID}" change="controller.bindFromInputs();"/>	
										</s:HGroup>
									</s:VGroup>
								</s:BorderContainer>
							</s:VGroup>

							<!-- Tier 2 -->
							<s:VGroup width="100%" height="100%" enabled="{reasonDDL.selectedIndex>-1 &amp;&amp; typeDDL.selectedIndex>-1 &amp;&amp; typeDDL.selectedItem.MOVITEM_TYPE_CODE != 'D'}">
								<s:FormHeading label="{resourceManager.getString('default','SPECMOV.LABEL.MV_TO_DATA')}"/>
								<s:BorderContainer id="toBox" borderColor="0x000000" backgroundAlpha="0" cornerRadius="8" width="100%" height="100">
									<s:VGroup width="100%" height="100%" paddingRight="6" paddingTop="5">		
										<s:HGroup width="100%" verticalAlign="middle">
											<s:Label width="135" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_PLANT')}" textAlign="right"/>
											<components:DKI_ComboBox openOnInput="true" id="toPlant" width="100%" prompt="{resourceManager.getString('default','SPECMOV.PROMPT.MV_PLANT')}" labelField="supplierUI"
															dataProvider="{C_SpecialMovements.FORM_PLANT_CODES}"  change="controller.bindToTank(); 
																					toTank.requireSelection = toDrawer.requireSelection = false;
																					toTank.selectedIndex = toDrawer.selectedIndex = -1"
															selectedIndex="@{C_SpecialMovements.FORM_TO_PLANT_CODE_SID}"/>	
										</s:HGroup>
										<s:HGroup width="100%" verticalAlign="middle" >
											<s:Label width="135" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_TANK')}" textAlign="right"/>
											<components:DKI_ComboBox openOnInput="true" id="toTank" width="100%" prompt="{resourceManager.getString('default','SPECMOV.PROMPT.MV_TANK')}" labelField="tankUI"  enabled="{C_SpecialMovements.FORM_TO_PLANT_CODE_SID>-1}"
															dataProvider="{C_SpecialMovements.FORM_TO_TANKS}" change="controller.bindToProd();
																					toDrawer.requireSelection = false;
																					toDrawer.selectedIndex = 0"
															selectedIndex="@{C_SpecialMovements.FORM_TO_TANK_CODE_SID}"/>	
										</s:HGroup>
										<s:HGroup width="100%" verticalAlign="middle" >
											<s:Label width="135" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_PRODUCT')}" textAlign="right"/>
											<components:DKI_ComboBox openOnInput="true" id="toDrawer" width="100%" prompt="{resourceManager.getString('default','SPECMOV.PROMPT.MV_PRODUCT')}" labelField="prodUI"  enabled="{C_SpecialMovements.FORM_TO_TANK_CODE_SID>-1}"
															dataProvider="{C_SpecialMovements.FORM_TO_PRODS}"
															selectedIndex="@{C_SpecialMovements.FORM_TO_PROD_CODE_SID}" change="controller.bindToInputs();"/>	
										</s:HGroup>
									</s:VGroup>
								</s:BorderContainer>
							</s:VGroup>
						</s:HGroup>
						
						<s:HGroup width="100%" verticalAlign="middle" enabled="{reasonDDL.selectedIndex>-1 &amp;&amp; typeDDL.selectedIndex>-1}" >
							<s:Label width="135" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_COMMENTS')}" textAlign="right"/>
							<s:TextInput width="100%" text="@{C_SpecialMovements.COMMENT}"/>
						</s:HGroup>
					</s:VGroup>
					
					
					<!-- Tier 3 -->
					<mx:VRule height="100%"/>
					<s:VGroup width="100%" height="100%" horizontalAlign="center">
														
						<s:VGroup width="100%" height="100%"  enabled="{reasonDDL.selectedIndex>-1 &amp;&amp; typeDDL.selectedIndex>-1}">
							<s:HGroup width="100%" verticalAlign="middle">
								<s:Label width="80" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_OBS_QTY')}" textAlign="right"/>
								<components:DKI_ValidatorInput width="125" validationType="integer_nonzero" maxChars="{global.MAX_NUMBER_DIGITS}" id="aq" restrict="0-9" text="@{C_SpecialMovements.QTY_AMB}" change="controller.AmbQtyChangedInForm()"/>
								<s:Label text="{resourceManager.getString('default','SPECMOV.LABEL.MV_OBS_QTY_UNIT')}" width="100%"/>
								<components:DKI_ComboBox width="100%" selectedIndex="0" dataProvider="{DM.SpecialMovements.volumeUnitsAmb}" labelField="Symbol" includeInLayout="{C_SpecialMovements.SHOWUNITS}" visible="{C_SpecialMovements.SHOWUNITS}"/>
								<components:DKI_Button includeIn="edit,create,view" label="{resourceManager.getString('default','CALCULATE')}"   type="refresh" click="controller.calc()" enabled="{
													   (C_SpecialMovements.TEMP_AMB.length>0)&amp;&amp;
													   (C_SpecialMovements.DENS_COR.length>0)&amp;&amp;
													   (
													   ((C_SpecialMovements.QTY_AMB.length>0))||
													   ((C_SpecialMovements.QTY_COR.length>0))||
													   ((C_SpecialMovements.MASS_AMB.length>0))
													   )}"/>		
							</s:HGroup>
							<s:HGroup width="100%" verticalAlign="middle">
								<s:Label width="80" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_STD_QTY')}" textAlign="right"/>
								<components:DKI_ValidatorInput width="125" validationType="integer_nonzero" maxChars="{global.MAX_NUMBER_DIGITS}" id="sq" restrict="0-9" text="@{C_SpecialMovements.QTY_COR}" change="controller.StdQtyChangedInForm()"/>
								<s:Label text="{resourceManager.getString('default','SPECMOV.LABEL.MV_STD_QTY_UNIT')}" width="100%"/>
								<components:DKI_ComboBox width="100%" includeInLayout="{C_SpecialMovements.SHOWUNITS}" visible="{C_SpecialMovements.SHOWUNITS}"/>		
							</s:HGroup>
							<s:HGroup width="100%" verticalAlign="middle">
								<s:Label width="80" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_MASS')}" textAlign="right"/>
								<components:DKI_ValidatorInput width="125" validationType="integer_nonzero" maxChars="{global.MAX_NUMBER_DIGITS}" id="mq" restrict="0-9" text="@{C_SpecialMovements.MASS_AMB}" change="controller.MassQtyChangedInForm()"/>
								<s:Label text="{resourceManager.getString('default','SPECMOV.LABEL.MV_MASS_UNIT')}" width="100%"/>
								<components:DKI_ComboBox width="100%" includeInLayout="{C_SpecialMovements.SHOWUNITS}" visible="{C_SpecialMovements.SHOWUNITS}"/>		
							</s:HGroup>
							<s:HGroup width="100%" verticalAlign="middle">
								<s:Label width="80" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_OBS_TEMP')}" textAlign="right"/>
								<components:DKI_ValidatorInput width="125" validationType="numeric" id="at" restrict="{(at.selectionActivePosition==0&amp;&amp;at.text.indexOf('-')==-1)?'0-9\\-':at.text.indexOf('.')==-1?'0-9.':'0-9'}" text="@{C_SpecialMovements.TEMP_AMB}"/>
								<s:Label text="{resourceManager.getString('default','SPECMOV.LABEL.MV_OBS_TEMP_UNIT')}" width="100%"/>
								<components:DKI_ComboBox width="100%" selectedIndex="0" dataProvider="{DM.SpecialMovements.temperatureUnits}" labelField="Symbol" includeInLayout="{C_SpecialMovements.SHOWUNITS}" visible="{C_SpecialMovements.SHOWUNITS}"/>	
							</s:HGroup>
							<!--
							<s:HGroup width="100%" verticalAlign="middle">
								<s:Label width="105" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_STD_TEMP')}" textAlign="right"/>
								<components:DKI_ValidatorInput width="100%" validationType="numeric" id="st" restrict="{st.text.length==0?'0-9':st.text.indexOf('.')==-1?'0-9.':'0-9'}" text="@{C_SpecialMovements.TEMP_COR}"/>
								<s:Label text="{resourceManager.getString('default','SPECMOV.LABEL.MV_STD_TEMP_UNIT')}" width="100%"/>
								<components:DKI_ComboBox width="100%" selectedIndex="0" dataProvider="{DM.SpecialMovements.temperatureUnits}" labelField="Symbol" includeInLayout="{C_SpecialMovements.SHOWUNITS}" visible="{C_SpecialMovements.SHOWUNITS}"/>	
							</s:HGroup>
							-->
							<s:HGroup width="100%" verticalAlign="middle">
								<s:Label width="80" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_STD_DENS')}" textAlign="right"/>
								<components:DKI_ValidatorInput width="125" validationType="numeric" id="sd" restrict="{sd.text.length==0?'0-9':sd.text.indexOf('.')==-1?'0-9.':'0-9'}" text="@{C_SpecialMovements.DENS_COR}"/>
								<s:Label text="{resourceManager.getString('default','SPECMOV.LABEL.MV_STD_DENS_UNIT')}" width="100%"/>
								<components:DKI_ComboBox width="100%" selectedIndex="0" dataProvider="{DM.SpecialMovements.densityAmb}" labelField="Symbol" includeInLayout="{C_SpecialMovements.SHOWUNITS}" visible="{C_SpecialMovements.SHOWUNITS}"/>	
							</s:HGroup>
							<s:HGroup width="100%" verticalAlign="middle">
								<s:Label width="80" text="{resourceManager.getString('default','SPECMOV.LABEL.MV_ALT_QTY')}" textAlign="right" />
								<components:DKI_ValidatorInput width="125" validationType="integer_nonzero" maxChars="{global.MAX_NUMBER_DIGITS}" id="alq" restrict="0-9" text="@{C_SpecialMovements.ALTERNATE_QTY}" change="alq_changeHandler(event)"/>
								<components:DKI_ComboBox  openOnInput="true" width="100%" selectedIndex="@{C_SpecialMovements.UNIT_ALT}" requireSelection="false" enabled="false" dataProvider="{DM.SpecialMovements.volumeUnitsAmb}" labelField="Symbol" id="uomcb"/>
								
							</s:HGroup>
						</s:VGroup>						
					</s:VGroup>
				</s:HGroup>
				<mx:HRule width="100%"/>
				<s:HGroup width="100%">
					<s:Spacer width="100%"/>
					<components:DKI_Button includeIn="edit,create,view" label="{resourceManager.getString('default','button.lbl.SUBMIT')}" type="forward" enabled="{mainList.selectedIndex == -1 ||(mainList.selectedItem.movementStatus != 'Completed' &amp;&amp; mainList.selectedItem.movementStatus != 'Reversed') }" click="controller.processSpecialMovement();"/>
					<components:DKI_Button includeIn="view" label="{resourceManager.getString('default','button.lbl.REVERSE')}" type="refresh" click="controller.rsm(null);" visible="{global.canReverseMovement}" includeInLayout="{global.canReverseMovement}"  enabled="{mainList.selectedItem.movementStatus == 'Completed' &amp;&amp; mainList.selectedItem.CAN_REVERSE == 'Y' }"/>
					<s:Spacer width="100"/>
					<components:DKI_Button includeIn="edit,create" label.edit="{resourceManager.getString('default','UPDATE')}" type.edit="update" click.edit="controller.update()"   
										   label.create="{resourceManager.getString('default','SAVE')}" type.create="create" click.create="controller.create()"
										   enabled.edit="{controller.canUpdate}" enabled.create="{controller.canCreate}" />
					<components:DKI_Button includeIn="edit" label="{resourceManager.getString('default','DELETE')}" type="delete" enabled="{controller.canDelete}" click="controller.del()"/>
					<components:DKI_Button includeIn="edit,create,view" label="{resourceManager.getString('default','CANCEL')}" type="back" label.view="{resourceManager.getString('default','button.lbl.BACK')}"  click="controller.clear(true)"/>
					
				</s:HGroup>
			</s:VGroup>
		</s:VGroup>
	</s:Panel>	
</s:VGroup>