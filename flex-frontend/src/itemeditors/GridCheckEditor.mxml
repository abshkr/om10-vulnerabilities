<?xml version="1.0" encoding="utf-8"?>
<s:GridItemEditor xmlns:fx="http://ns.adobe.com/mxml/2009" 
				  xmlns:s="library://ns.adobe.com/flex/spark"   
				  xmlns:mx="library://ns.adobe.com/flex/mx"
				  xmlns:components="components.*"
				  creationComplete="creationCompleteHandler(event)">
	
	<fx:Script>
		<![CDATA[
			import dm.DM;
			import dm.utils.tools;
			
			import mx.collections.ArrayCollection;
			import mx.events.FlexEvent;
			
			import spark.events.IndexChangeEvent;
			
			
			[Bindable] public var flag:Boolean=false;
			public var isNumber:Boolean=true;
			
			public function adjustFlags():void
			{
				isNumber = true;
				if ( data )
				{
					if ( data[column.dataField] == "1" || data[column.dataField] == "0" )
					{
						isNumber = true;
					}
					if ( data[column.dataField] == "Y" || data[column.dataField] == "N" || data[column.dataField] == "y" || data[column.dataField] == "n" )
					{
						isNumber = false;
					}
				}
				
				if ( data )
				{
					if ( data[column.dataField] == "1" || data[column.dataField] == "Y" || data[column.dataField] == "y")
					{
						flag = true;
					}
					else
					{
						flag = false;
					}
				}
				else
				{
					flag = false;
				}
			}
			
			public function creationCompleteHandler(event:FlexEvent):void
			{
			}
			
			override public function set value(newValue:Object):void 
			{
				this.adjustFlags();
			}
			
			override public function get value():Object 
			{
				if ( cb.selected == true )
				{
					if ( this.isNumber )
					{
						return "1";
					}
					else
					{
						return "Y";
					}
				}
				else
				{
					if ( this.isNumber )
					{
						return "0";
					}
					else
					{
						return "N";
					}
				}
			}
			
			override public function setFocus():void 
			{
				cb.setFocus();
			}
			
			
			protected function cb_changeHandler(event:Event):void
			{
				// TODO Auto-generated method stub
				
				if ( data )
				{
					if ( cb.selected == true )
					{
						if ( this.isNumber )
						{
							data[column.dataField] = "1";
						}
						else
						{
							data[column.dataField] = "Y";
						}
					}
					else
					{
						if ( this.isNumber )
						{
							data[column.dataField] = "0";
						}
						else
						{
							data[column.dataField] = "N";
						}
					}
				}
				
			}
			
		]]>
	</fx:Script>
	
	<components:DKI_ToggleSwitch id="cb" selected="{flag}" change="cb_changeHandler(event)" width="100%" height="100%" minWidth="40" />
	
</s:GridItemEditor>