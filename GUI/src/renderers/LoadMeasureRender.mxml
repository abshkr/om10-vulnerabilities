<?xml version="1.0" encoding="utf-8"?>
<s:GridItemRenderer xmlns:fx="http://ns.adobe.com/mxml/2009" 
					xmlns:s="library://ns.adobe.com/flex/spark" 
					xmlns:mx="library://ns.adobe.com/flex/mx" clipAndEnableScrolling="true">
	
	<fx:Script>
		<![CDATA[
			import mx.collections.ArrayCollection;
			
			import spark.components.DataGrid;
			import spark.events.IndexChangeEvent;
			
			override public function prepare(hasBeenRecycled:Boolean):void 
			{
				trace(owner);
				if (data)
				{
					var tmp:String = String(data[column.dataField]);
					switch(tmp) 
					{
						case "5": cb.selectedIndex=0; break;
						case "11":cb.selectedIndex=1; break;
						case "17":cb.selectedIndex=2; break;
						default: cb.selectedIndex=0;	
					}
				}		
			}
			
			protected function cb_changeHandler(event:IndexChangeEvent):void
			{
				switch(event.newIndex)
				{
					case 0:data[column.dataField]=5;break;
					case 1:data[column.dataField]=11;break;
					case 2:data[column.dataField]=17;break;
					default:data[column.dataField]=5;
				}
				var parnt:DataGrid = owner as DataGrid;
				(parnt.dataProvider as ArrayCollection).refresh();
			}
			
		]]>
	</fx:Script>
	<s:ComboBox id="cb" width="100%" height="100%" change="cb_changeHandler(event)" borderVisible="false"
				dataProvider="{global.measuresArr}" labelField="desc" requireSelection="true" enabled="{global.app.getUserPriv('78')}"
				skinClass="skins.MeasuresSkin"/>
</s:GridItemRenderer>
