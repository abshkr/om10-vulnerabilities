<?xml version="1.0" encoding="utf-8"?>
<s:GridItemRenderer xmlns:fx="http://ns.adobe.com/mxml/2009" 
					xmlns:s="library://ns.adobe.com/flex/spark" 
					xmlns:mx="library://ns.adobe.com/flex/mx" clipAndEnableScrolling="true">
	
	<fx:Script>
		<![CDATA[
			import dm.DM;
			import mx.collections.ArrayCollection;
			
			import spark.events.IndexChangeEvent;
			
			
			
			[Bindable] private var myDataProvider:ArrayCollection;
			
			override public function prepare(hasBeenRecycled:Boolean):void 
			{
				if ( column.dataField == "clnItemSupplierFrom" )
				{
					myDataProvider = DM.MovementNominations.drawers;  
				}
				if ( column.dataField == "clnItemSupplierTo" )
				{
					myDataProvider = DM.MovementNominations.drawers;  
				}
				if ( column.dataField == "clnItemTankFrom" )
				{
					myDataProvider = DM.MovementNominations.tanks;  
				}
				if ( column.dataField == "clnItemTankTo" )
				{
					myDataProvider = DM.MovementNominations.tanks;  
				}
				
				//ddl.selectedItem = data[column.dataField];
				
				for(var i:int=0;i <myDataProvider.length;i++)
				{
					if (myDataProvider[i].CODE_NAME == data[column.dataField])
					{
						ddl.selectedIndex = i;
						ddl.selectedItem = myDataProvider[i];
						//ddl.labelDisplay.text = myDataProvider[i][i].CODE_NAME;
					}
				}
			}
			
			protected function updateData(event:IndexChangeEvent):void
			{
				// TODO Auto-generated method stub
				data[column.dataField] = ddl.selectedItem.CODE_NAME;
			}
			
		]]>
	</fx:Script>
	
	
	<s:DropDownList id="ddl" top="0" bottom="0" left="0" right="0" labelField="CODE_NAME" change="updateData(event)" dataProvider="{myDataProvider}"/>
	
	
	
</s:GridItemRenderer>

